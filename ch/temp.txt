在之前阅读的文献中，我们了解到每个颜色通道的信号会有不同的变化幅度。于是，我们将信号分为了红绿蓝(RGB)三个通道的数据收集，并单独处理，以观察每个通道的特征。

\subsection{信号处理}
在采集到RGB三个通道的数据之后，我们首先需要对信号进项降噪。我们比较了多种方法，尝试了Principle Component Analysis(PCA)， Independent Component Analysis(ICA)， Butterworth filter等方法，最终我们将三个数据分别放入一个0。5赫兹到5赫兹的带通滤波器(bandpass filter)来过滤波幅这个范围之外的信号。经过这一步过滤之后的信号更加稳定，方便接下来的计算。

我们考虑了两种通过原信号寻找心率的办法。第一种办法为通过傅里叶转换来找到信号波动的频率由此推断得到心率信息。此方法在之前的通过手指信号测量心率的产品上效果良好。我们参考了之前的代码，尝试了改变一些参数来取得更好的结果，但由于面部远程探测的噪音与近距离手指测量比较较大，最终效果还是不够理想。在寻找一些新方法后，我们开始了通过数信号峰值数量来计算心率的尝试。

(!!!!!仔细描述cal heartrate函数的处理方法)

\subsection{页面部署}
为了在台式和便携式电脑测试的基础上加入移动设备的测试，我们将项目部署在了Heroku上。由于通过在电脑上运行，再通过利用IP地址直接连接利用的是http协议，而手机的获取摄像机权限需要https协议。通过目前再Heroku上的部署，我们的项目再安卓浏览器上都可以打开。在iOS上safari浏览器可以打开，chrome和edge的浏览器打不开。在iOS
上导致打不开的原因是由于⽬前没有办法在iOS的chrome和edge上通过getUserMedia获得权限，只有safari可以。


\section{产品当下与未来}
目前，我们的程序拥有一个可以通过远程测量光电溶剂信号而生成心率信息的基本框架。通过这段时间的工作，目前前端的架构已处于一个较为完整的状态。信号处理方面经过多种尝试也可生成，但与真实心跳还是有一些偏差。偏差主要导致的原因为通过镜头拍摄的面部信号噪音偏大。噪音的来源包括呼吸产生的信号有时比面部的RGB信号强，且两者频率不一，以及面部皮肤对光线的反射。另外，由于面部只包含了人体总血量的2\%到5\%，通过摄像头拍摄的面部PPG信号强度也较弱。

对于产品的未来发展，在目前的基础上首先需要继续提升测量的准确度，以及继续寻找能够降噪的方法。
在完成更精确的心率的测量后，我们可以进一步分析心率变异性(HRV)的意义，如衡量个人情绪和协调状态，开展个人压力测量，以及评估个人恢复状态。

\section{收获}
通过本项目，我们在两位导师的指导下获益匪浅。在每周的例会上，两位导师帮助我们构思下一步的实验的设计与执行，并带领我们回顾总结上周的工作内容。我们组内的三人在项目开展期间有明确的分工和充分的交流，每个人对每一模块的工作都非常了解。在基本没有信号处理的背景下，我们通过阅读文献以及分享心得体会迅速的了解了PPG信号的的原理，并通过实践比较了不同的信号处理方法及效果。(提一下找到问题，解决问题什么的)
